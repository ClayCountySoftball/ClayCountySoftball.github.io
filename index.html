<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Clay County Softball">
  <meta name="application-name" content="Clay County Softball">
  <meta name="theme-color" content="#333">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="icon" type="image/png" sizes="32x32" href="Softball-Logo4.png">
  <link rel="icon" type="image/png" sizes="16x16" href="Softball-Logo4.png">

  <link rel="apple-touch-icon" href="Softball-Logo4.png">
  <link rel="apple-touch-icon" sizes="152x152" href="Softball-Logo4.png">
  <link rel="apple-touch-icon" sizes="180x180" href="Softball-Logo4.png">
  <link rel="apple-touch-icon" sizes="167x167" href="Softball-Logo4.png">

  <link rel="shortcut icon" href="Softball-Logo4.png">

  <link rel="manifest" href="manifest.json">

  <title>Clay County Softball</title>
  <style>
    html,
    body {
      background-color: #08141f;
      margin: 0;
      padding: 0;
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
      font-family: Arial, sans-serif;
      overscroll-behavior: none;
    }

    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-text-size-adjust: none;
      text-size-adjust: none;
    }

    input,
    textarea {
      font-size: 16px !important;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
      overflow: auto;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: black;
    }

    #install-banner {
      display: none;
      position: fixed;
      margin: 5px;
      border: 2px solid rgb(71, 143, 223);
      background: rgba(0, 0, 0, 0.85);
      bottom: 20px;
      left: 0;
      right: 0;
      color: white;
      text-align: center;
      padding: 5px;
      box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      width: max-content;
      margin: 0px auto;
    }

    #install-banner button {
      background-color: #ff4500;
      border: none;
      color: white;
      padding: 8px 16px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 4px;
    }

    #ios-install-banner {
      display: none;
      position: fixed;
      margin: 5px;
      border: 2px solid #ff4500;
      background: rgba(0, 0, 0, 0.85);
      bottom: 1px;
      left: 0;
      right: 0;
      color: white;
      text-align: center;
      padding: 5px;
      box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      width: max-content;
      margin: 0px auto;
    }

    #ios-install-banner button {
      background-color: #ff4500;
      border: none;
      color: white;
      padding: 8px 16px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 4px;
    }

    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      overflow: hidden;
      padding: 0px;
      background-attachment: fixed;
      background-repeat: round;
      background-size: cover;
      display: none;
    }
        #preloader-text {
/*       background: 50% 100% / 50% 50% no-repeat radial-gradient(ellipse at bottom, #00205b, transparent, transparent); */
/*     -webkit-background-clip: text; */
    color: rgb(0, 0, 0, 0.4);
    font-size: 4rem;
/*     font-family: "Source Sans Pro", sans-serif; */
    font-weight: 900;
    white-space: wrap;
    line-height: 1;
    text-align: center;
    position: relative;
    -webkit-text-stroke: 4px white;
    animation: slow 2s ease-in-out forwards;
    display: flex;
    align-items: center;
    top: 33%;

    }
        @keyframes slow {
  from {
        opacity: 0;
  }
  to {
        opacity: 1;
  }
}
        .footer {
      text-align: center;
      padding: 3px 0;
      margin-top: 20px;
      background: #152d45;
      color: white;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      position: sticky;
      left: 50%;
      width: 100%;
      margin-bottom: 20px;
      font-size: 12px;
      margin-bottom: 10px;
    }

   @media (max-width: 1100px) {
      
      #ios-install-banner {
        width: width: -webkit-fill-available;
        margin: 0px 3px;
    }
      #install-banner {
        width: width: -webkit-fill-available;
        margin: 0px 3px;
      }
     
      #preloader {
background: 
  linear-gradient(to top, #08141f 3%, rgba(8, 20, 31, 0.8) 5%, rgba(8, 20, 31, 0) 28%, rgba(8, 20, 31, 0) 60%, rgba(8, 20, 31, 0.8) 80%, #08141f 98%),
  url("Softball-loader2.png");/*              
        url(https://i.etsystatic.com/15591817/r/il/f988af/1991254131/il_1080xN.1991254131_ahkf.jpg); */
/*           href="Softball-loader2.png"; */
/*          background: url(https://raw.githubusercontent.com/ClayCountySoftball/ClayCountySoftball.github.io/refs/heads/main/Softball-Loader2.png); */
/*          background: url(https://i.etsystatic.com/15591817/r/il/f988af/1991254131/il_1080xN.1991254131_ahkf.jpg); */
        background-attachment: fixed;
                background-repeat: unset;
        background-size: cover;
        background-position: center;
        background-blend-mode: hard-light;
        display: block;
    }
      }

  </style>
</head>

<body>

  
  <div id="preloader">
    <div id="preloader-text">
      <span class="top-text">CLAY COUNTY SOFTBALL 2025</span>
    </div>
  </div>

  <div id="install-banner">
    <p style="margin: 5px;">Add to Home Screen for the best experience</p>
    <button id="install-button">Add</button>
    <button id="dismiss-button">Dismiss</button>
  </div>

  <div id="ios-install-banner"
    style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.85); color: white; padding: 10px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.2); z-index: 1001; text-align: left; max-width: 90%; font-family: Arial, sans-serif;">
    <button id="ios-install-close" style="position: absolute; top: -2px; right: -2px; background: #ff4500; border: 1px solid black; width: 24px; height: 24px; font-size: 20px; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; padding: 0; line-height: 1; border-radius: 5px;">âœ•</button>
    <h3 style="margin: 0 0 10px 0; font-size: 18px; font-weight: bold; display: flex; align-items: center;">
      <img src="Softball-Logo4.png" alt="Pick 5 Logo" style="width: 30px; height: 30px; margin-right: 8px; vertical-align: middle;border: 1px solid white; border-radius: 8px;">Install 'Clay County Softball'</br>on Your Device.
    </h3>
    <p style="margin: 0 0 10px 0; font-size: 14px;">To install this as an app on your device, follow the below
      instructions.</p>
    <p style="margin: 5px 0; font-size: 14px;">1. Tap on share <img src="https://static-00.iconduck.com/assets.00/ios-share-icon-1490x2048-h3vjhu9m.png" alt="Share icon" style="width: 16px; height: 16px; object-fit: contain; vertical-align: middle;filter: invert(100%);">
    </p>
    <p style="margin: 5px 0; font-size: 14px;">2. Select 'Add to Home Screen' <img src="https://static-00.iconduck.com/assets.00/plus-square-icon-2048x2048-h144q2yx.png" alt="Share icon" style="width: 16px; height: 16px; object-fit: contain; vertical-align: middle;filter: invert(100%);">
    </p>
    <p style="margin: 5px 0; font-size: 14px;">3. Click 'Add'</p>
    <!-- <div style="display: flex; justify-content: flex-end; margin-top: 0px;">
        <button id="ios-install-dismiss" style="background: #ff4500;border: none;color: white; padding: 5px 12px;text-align: center;text-decoration: none;display: inline-block;font-size: 16px;margin: 4px 2px;cursor: pointer;border-radius: 4px;">Dismiss</button>
    </div> -->
  </div>

  <iframe 
    src="https://script.google.com/macros/s/AKfycbzmL6rZCIYQ54HtryDCr4jYV62jsizS_a8PSC_5iNy_LXhsGBzJvRdqC_3nr-r34PdEkw/exec"
  frameborder="0"
  scrolling="yes"
  allowfullscreen
  allow="fullscreen; clipboard-write"
  sandbox="allow-scripts allow-same-origin"
>
</iframe>
<!--       <div class="footer">
        For inquiries or updates, please contact: <br>Jake Purrier at (218) 790-2592 or Kevin Swenson at (701) 809-6658.
    </div> -->
<!--   <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z2VF1K0SZM"></script> -->
  
  <script>

            document.addEventListener('DOMContentLoaded', function() {
            const preloader = document.getElementById('preloader');
            setTimeout(() => {
                preloader.style.display = 'none';
            }, 3000);
        });

    
function isDesktop() {
    const userAgent = navigator.userAgent.toLowerCase();
    // Check for common desktop-specific keywords in userAgent
    const isDesktopUA = /windows nt|macintosh|linux/i.test(userAgent) && !/mobile|android|iphone|ipad|ipod/i.test(userAgent);
    // Optionally, check screen width (e.g., > 1024px for desktop)
    const isLargeScreen = window.innerWidth > 1024;
    return isDesktopUA && isLargeScreen;
}

function isAndroid() {
    return /Android/i.test(navigator.userAgent);
}

// Updated setupInstallPrompt function
function setupInstallPrompt() {
    const installBanner = document.getElementById('install-banner');
    const iosInstallBanner = document.getElementById('ios-install-banner');
    const installButton = document.getElementById('install-button');
    const dismissButton = document.getElementById('dismiss-button');
    const iosCloseButton = document.getElementById('ios-install-close');

    // If on desktop, hide both banners and exit
    if (isDesktop()) {
        installBanner.style.display = 'none';
        iosInstallBanner.style.display = 'none';
        return;
    }

    // If already installed (standalone mode), hide both banners
    if (isStandalone()) {
        installBanner.style.display = 'none';
        iosInstallBanner.style.display = 'none';
        return;
    }

    // Platform-specific handling for non-desktop devices
    if (isIOS()) {
        iosInstallBanner.style.display = 'block'; // Show iOS banner with instructions

        // Close button (X): Hide the banner
        iosCloseButton.addEventListener('click', () => {
            iosInstallBanner.style.display = 'none';
        });
    } else {
        // Android/PC: Show install banner when beforeinstallprompt fires
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installBanner.style.display = 'block';
        });
    }

    // Install button for Android/PC
    installButton.addEventListener('click', () => {
        if (deferredPrompt) {
            installBanner.style.display = 'none';
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted the install prompt');
                } else {
                    console.log('User dismissed the install prompt');
                }
                deferredPrompt = null;
            });
        }
    });

    // Dismiss button for Android/PC banner
    dismissButton.addEventListener('click', () => {
        installBanner.style.display = 'none';
    });
}

// Run when page loads
document.addEventListener('DOMContentLoaded', () => {
    setupInstallPrompt();
});

// Platform detection functions (unchanged)
function isIOS() {
    return /iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function isStandalone() {
    return window.matchMedia('(display-mode: standalone)').matches;
}

function resizeIframe() {
    var iframe = document.querySelector("iframe");
    if (iframe) {
        // Debounce the resize to prevent excessive updates
        let timeout;
        clearTimeout(timeout);
        timeout = setTimeout(() => {
            // Use screen dimensions as fallback
            const height = window.innerHeight || document.documentElement.clientHeight || screen.height;
            const width = window.innerWidth || document.documentElement.clientWidth || screen.width;

            iframe.style.height = height + "px";
            iframe.style.width = width + "px";

            // Remove any potential scrollbars
            iframe.style.border = "none";
            iframe.style.margin = "0";
            iframe.style.padding = "0";
        }, 100);
    }
}

// Event listeners
window.addEventListener("resize", resizeIframe);
window.addEventListener("load", resizeIframe);
window.addEventListener("orientationchange", resizeIframe);

// Media query listener
if (window.matchMedia) {
    const mediaQuery = window.matchMedia("(orientation: portrait)");
    mediaQuery.addEventListener("change", resizeIframe);
}

// Initial call
resizeIframe();  

   
  </script>
</body>

</html>
